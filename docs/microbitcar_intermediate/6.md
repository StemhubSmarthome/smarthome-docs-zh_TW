# 第六課

## 簡介
<P>
歡迎參加Micro：bit 智能小車課程！在本課程中，我們將探索Micro：bit並學習如何在編程中如何控制Micro：bit智能小車。
<P>

## 教學目標
<P>
讓學生清楚掌握Micro：bit 智能小車的巡線行駛的原理及其功用，並了解如何透過設計編程令智能小車巡著黑線行駛及掉頭。
<P>

## 叉車工具的運用
<P>
經過上一課認識了叉車的組裝及原理後，我們現在運用在各種練習上。
<P>
<P>
安裝超聲波傳感器：
<P>
<P>
1）用三顆M2.5*5mm螺絲組裝好另一個舵機，並裝上雲台變焦安裝板(pan-tilt-zoom mount plate)。
<P>
<P>
2）將超聲波傳感器放入通用擴展安裝板，並用兩顆M3*5mm螺絲將通用擴展安裝板裝上雲台變焦安裝板。
<P>
<P>
3）用兩顆螺絲、兩顆螺絲帽、兩條銅柱將叉子連同超聲波傳感器安裝到車上。
<P>
<P>
完成圖：
<P>

## 練習一
<P>
自動感測器(超聲波)
<P>
<P>
運用超聲波偵測車子前方是否有可以搬運的東西，然後用叉車把貨物舉起。(如沒有偵測到，車子會繼續往前走，直至遇到障礙物)。
<P>
 
## 練習二
<P>
自動搬運貨物(循線)
<P>

    1.	沿黑線走
    2.	直至感應器感測到白色，立刻暫停
    3.	舉高貨物
    4.	繼續沿著黑色線走
    5.	直至感應器再次感測到白色，放下貨物

## 練習三
<P>
綜合練習一和二，編寫程式令車子能自動感應貨物大概位置並抬起它及循著黑線直到到達終點(直行直至感應到白色)。
<P>
<P>
提示：建議使用函式，一個代表超聲波，一個代表循線感應器
<P>

## 答案
### 練習一
<P>
首先，先調整叉車的角度
<P>
<P>
第一個紅框是當超聲波讀取的距離少於或等於12，車子就會停下，然後就會舉起舵機
<P>
<P>
第二個紅框是在超聲波沒有偵測到障礙物時，舵機的角度依然是0，然後車子就會繼續往前走
<P>
 
### 練習二
<P>
還記得巡綫感應器的數值代表著什麽嗎？
<P>
<P>
(1是白色，0是黑色)
<P>
<P>
所以第一個紅框是代表遇到白色的時候，車子會停止移動，然後舉高叉車，繼續向前走
<P>
<P>
第二個紅框是代表遇到黑色的時候，叉子會放下，車子繼續向前走
<P>
<P>
(我們歸納(0,1),(1,0)的情況為遇到黑色)
<P>

### 練習三
<P>
首先，定義兩個函式，一個是超聲波，作用是感測貨物的位置，一個是巡綫，負責跟從黑綫。
<P>
<P>
我們要先分清楚超聲波還是巡綫功能優先，由於我們要先感測一下貨物是否在車子前方，再沿著黑綫走，所以超聲波功能優先，會被重複地呼叫。
<P>
<P>
在超聲波的函式裏，當超聲波讀取的距離少於5，車子會停止移動，然後舉起叉子工具。
<P>
<P>
如果超聲波沒有感測到貨物，就會呼叫巡綫的功能。
<P>
<P>
初始化：叉子在一開始的角度為80。
<P>

####巡綫模組
